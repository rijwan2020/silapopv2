(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"JGg+":function(t,a,s){"use strict";s.r(a);var e={name:"data-user",metaInfo:{title:"Data User"},data:function(){return{sortBy:"id",sortDesc:!0,perPage:10,loadParams:{},data:[],currentPage:1,isBusy:!1,pilihStatus:"Semua",fields:[{key:"id",label:"#",sortable:!1,tdClass:"align-middle",thClass:"text-nowrap align-middle text-center"},{key:"keterangan",label:"Keterangan",sortable:!1,tdClass:"align-middle",thClass:"text-nowrap align-middle text-center"},{key:"date",label:"Tanggal",sortable:!1,tdClass:"align-middle",thClass:"text-nowrap align-middle text-center"},{key:"status",label:"Status",sortable:!1,tdClass:"align-middle",thClass:"text-nowrap align-middle text-center"},{key:"link",label:"File",sortable:!1,tdClass:"align-middle text-center",thClass:"text-nowrap align-middle text-center"}]}},computed:{totalItems:function(){return this.data.total},totalPages:function(){return Math.ceil(this.totalItems/this.perPage)},user:function(){return this.$store.state.auth.user}},watch:{currentPage:function(){this.loadData()},perPage:function(){this.loadData()},pilihStatus:function(){this.loadData()}},methods:{loadData:function(){var t=this;this.isBusy=!0,this.loadParams.page=this.currentPage,this.loadParams.order_by=this.sortBy,this.loadParams.sort_desc=this.sortDesc,this.loadParams.limit=this.perPage,this.loadParams.params={},"Semua"!=this.pilihStatus&&(this.loadParams.params.status=this.pilihStatus),this.loadParams.params.user_id=this.user.id,axios.get(this.publicUrl+"api/download",{params:this.loadParams}).then((function(a){t.data=a.data,t.isBusy=!1})).catch((function(a){t.swr()}))}},created:function(){this.loadData()}},i=s("KHd+"),n=Object(i.a)(e,(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[t._m(0),t._v(" "),s("b-card",{attrs:{"no-body":""}},[s("hr",{staticClass:"border-light m-0"}),t._v(" "),s("div",{staticClass:"table-responsive"},[s("b-table",{staticClass:"card-table",attrs:{items:t.data.data,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,striped:!0,bordered:!0,"current-page":1,"per-page":t.perPage,busy:t.isBusy},on:{"update:sortBy":function(a){t.sortBy=a},"update:sort-by":function(a){t.sortBy=a},"update:sortDesc":function(a){t.sortDesc=a},"update:sort-desc":function(a){t.sortDesc=a}},scopedSlots:t._u([{key:"cell(id)",fn:function(a){return[t._v("\n                        "+t._s(0!=a.item.id?a.index+1+(t.currentPage-1)*t.perPage:"-")+"\n                    ")]}},{key:"cell(status)",fn:function(a){return[1==a.item.status?s("b-badge",{attrs:{variant:"outline-info"}},[t._v("\n                            Selesai\n                        ")]):s("b-badge",{attrs:{variant:"outline-success"}},[t._v("\n                            Proses\n                        ")])]}},{key:"cell(link)",fn:function(a){return[1==a.item.status?s("a",{staticClass:"btn btn-sm btn-info",attrs:{href:a.item.link,target:"_blank"}},[s("i",{staticClass:"ion ion-md-download"}),t._v(" Download")]):s("i",[t._v("Belum tersedia")])]}},{key:"table-busy",fn:function(){return[s("div",{staticClass:"text-center text-danger my-2"},[s("b-spinner",{staticClass:"align-middle"}),t._v(" "),s("strong",[t._v("Loading...")])],1)]},proxy:!0}])})],1),t._v(" "),s("b-card-body",{staticClass:"pt-0 pb-3"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm text-sm-left text-center pt-3"},[t.totalItems?s("span",{staticClass:"text-muted"},[t._v("Page "+t._s(t.currentPage)+" of "+t._s(t.totalPages)+"\n\t\t\t\t\t\t\t"),s("br"),t._v("\n\t\t\t\t\t\t\tTotal Record : "+t._s(t.totalItems)+"\n\t\t\t\t\t\t")]):t._e()]),t._v(" "),s("div",{staticClass:"col-sm pt-3"},[t.totalItems?s("b-pagination",{staticClass:"justify-content-center justify-content-sm-end m-0",attrs:{"total-rows":t.totalItems,"per-page":t.perPage,size:"md"},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}}):t._e()],1)])])],1),t._v(" "),s("b-card",{staticClass:"px-3 py-2 mt-2",attrs:{"no-body":""}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-1 px-0"},[s("b-form-group",{staticClass:"w-auto m-1",attrs:{label:"Limit"}},[s("b-select",{attrs:{size:"md",options:[10,20,30,40,50]},model:{value:t.perPage,callback:function(a){t.perPage=a},expression:"perPage"}})],1)],1),t._v(" "),s("div",{staticClass:"col-md-2 px-0"},[s("b-form-group",{staticClass:"w-auto m-1",attrs:{label:"Status"}},[s("b-select",{attrs:{size:"md"},model:{value:t.pilihStatus,callback:function(a){t.pilihStatus=a},expression:"pilihStatus"}},[s("option",{attrs:{value:"Semua"}},[t._v("Semua")]),t._v(" "),s("option",{attrs:{value:"1"}},[t._v("Selesai")]),t._v(" "),s("option",{attrs:{value:"0"}},[t._v("Proses")])])],1)],1)])])],1)}),[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"d-flex justify-content-between align-items-center w-100 mb-0 border-bottom"},[a("div",{staticClass:"d-flex align-items-center"},[a("h5",{staticClass:"m-1 d-inline-block text-nowrap font-weight-normal"},[this._v("\n                    Download\n                ")])])])}],!1,null,null,null);a.default=n.exports}}]);